---
id: metamod-r-settings
title: Настройки
sidebar_position: 3
description: Metamod-r is an optimized version of the original Metamod, enhancing performance and compatibility for Half-Life 1 servers.
slug: /metamod-r/settings
---

<head>
  <title>Metamod-R: Настройки | ReHLDS</title>
</head>

# Настройки

## Подключение плагинов в plugins.ini
В качестве примера будет использован мифический плагин `metaPlugin`. Установка других плагинов идет по аналогии с этой инструкцией.
 
* В папке `addons\metamod` создайте файл `plugins.ini`, если его там нету.
* В папке `addons` создайте папку для нового плагина. _Например, папку **metaPlugin**._
* Поместите свой плагин `metaPlugin.dll` (или `metaPlugin.so`)  в созданную папку по пути `addons\metamod\metaPlugin`.
* Откройте из папки `metamod` файл  `plugins.ini` любым удобным для вас текстовым редактором.
* Для подключения плагина `metaPlugin.dll` (или `metaPlugin.so`) пропишите следующие строки в файл  `plugins.ini`:

 _Для Windows-версии вашего сервера:_
```
win32 addons\metaPlugin\metaPlugin.dll
```
 _Для Linux-версии вашего сервера:_
```
linux addons/metaPlugin/metaPlugin.so
```
* Сохраните ваш файл `plugins.ini` и запустите сервер.
* Установка плагина **завершена**.

_Вы можете проверить, что плагин работает, набрав в консоли сервера `meta list`._
![](https://i.imgur.com/1fVXBzc.png)

Если такого не наблюдается,
![](https://i.imgur.com/nGXAokG.png)
обратитесь к [руководству по устранению неполадок](https://github.com/theAsmodai/metamod-r/wiki/Устранение-проблем).

# Список консольных команд
Команда пишется в связке с приставкой `meta`. _Например, `meta version`_.

``` 
     version                - отобразить информацию о версии metamod
     list                   - отобразить список загруженных плагинов
     game                   - отобразить информацию о gamedll (список зарегистрированных msg, их id и размер)
     cmds                   - список консольных команд, добавленных сторонними плагинами
     cvars                  - список cvar, добавленных сторонними  плагинами
     refresh                - перезагрузить metamod-r
     config                 - конфигурация из  config.ini 
     load <name>            - найти и загрузить плагин по указанному пути
     unload <plugin>        - выгрузить указанный плагин
     reload <plugin>        - перезагрузить указанный плагин
     info <plugin>          - отобразить подробную информацию об указанном плагине
     pause <plugin>         - приостановить работу плагина
     unpause <plugin>       - возобновить работу всех остановленных плагинлв
     retry <plugin>         - повторить попытку неудачной загрузки плагина
     clear <plugin>         - выгрузить из памяти неудачно загруженный плагин
     force_unload <plugin>  - принудительная выгрузка плагина
     require <plugin>       - выключить сервер, если указанный плагин не запущен
```

# Тонкая настройка через config.ini
Файл `config.ini` находится рядом с `metamod.dll`. В нем можно произвести более тонкую настройку, если вам это необходимо. _Например, выключить рассылку информации об установленных плагинов в клиенты, либо форсированно подключить `неподдерживаемый` мод или игру._

### debuglevel 
 
| **Переменная** | debuglevel 
| :----- | -----:
| **Тип** | число  
| **Принимает** | от 0 до 42
| **По умолчанию** | 0
| **Переопределяется** |  `+localinfo mm_debug <число>`
| **Пример использования** | `debuglevel 0`
| **Подробное описание** | Устанавливает начальный уровень отладки для `metamod` (так же, как cvar `meta_debug`). По умолчанию обычно `0`. Если `hlds` запущен с `-dev` параметром, то значение будет `3`.

### gamedll
| **Переменная** | gamedll
| :----- | -----:
| **Тип** | строка 
| **Принимает** | `<путь>`
| **По умолчанию** | пусто
| **Переопределяется** |  `+localinfo mm_gamedll <путь>`
| **Пример использования** |  `gamedll dlls/hl.dll`, `gamedll ../podbot/podbot.dll`, `gamedll /home/bots/dlls/mybot.dll`
| **Подробное описание** | `<путь>` - либо абсолютный путь, либо относительный папки мода, к исполняемому файлу игры (например, `hl.dll`) в тех случаях, когда `Metamod-r` не может распознать запускаемую игру или мод. По умолчанию - значение пустое.

### exec_cfg 
| **Переменная** | exec_cfg 
| :----- | -----:
| **Тип** | строка 
| **Принимает** | `<файл>`
| **По умолчанию** | `addons/metamod/exec.cfg`
| **Переопределяется** |  `+localinfo mm_execcfg <файл>`
| **Пример использования** |  `exec_cfg configs/debugging.cfg`, `exec_cfg ../clan/match.cfg`
| **Подробное описание** | Где` <файл> `- это путь относительно папки с игрой. **Внимание:** Это НЕ МОЖЕТ быть абсолютным путем, поскольку `hlds` не будет «исполнять» абсолютные пути. Переопределяет имя файла по умолчанию, содержащее команды `hlds`, которые запускаются сразу после загрузки `Metamod-r`.

### clientmeta 
| **Переменная** | clientmeta 
| :----- | -----:
| **Тип** | флаг
| **Принимает** | `<yes/no>`
| **По умолчанию** | `yes`
| **Переопределяется** |  `+localinfo mm_clientmeta <yes/no>`
| **Пример использования** |  `clientmeta yes`, `clientmeta no`
| **Подробное описание** | Настройка для отключения или включения клиентских команд Metamod (`meta list` и `meta version`). Дополнительная настройка для исправления патча `Metamod+All-Mod-Support`.

### dynalign_list
| **Переменная** | clientmeta 
| :----- | -----:
| **Тип** | флаг
| **Принимает** | `<yes/no>`
| **По умолчанию** | `no`
| **Переопределяется** |   
| **Пример использования** |  `dynalign_list yes`, `dynalign_list no`
| **Подробное описание** | Настройка для отключения или включения динамического выравнивания списка плагинов на вывод.  **Внимание**: Этот параметр влияет на неправильный синтаксический анализ из `HLSW` во вкладке `Metamod Plugins`.
